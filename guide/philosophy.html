<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Composable Philosophy ðŸ¤” | ServerlessUse</title>
    <meta name="description" content="Documents and Examples for ServerlessUse ">
    <link rel="stylesheet" href="/serverless-use/assets/style.8838f4c1.css">
    <link rel="modulepreload" href="/serverless-use/assets/app.cfba5851.js">
    <link rel="modulepreload" href="/serverless-use/assets/guide_philosophy.md.943cf7a0.lean.js">
    
    <script>(()=>{const e=localStorage.getItem("vitepress-theme-appearance"),a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-b7788134><!--[--><!--]--><!--[--><span tabindex="-1" data-v-5bad87e6></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-5bad87e6> Skip to content </a><!--]--><!----><header class="VPNav no-sidebar" data-v-b7788134 data-v-0f827909><div class="VPNavBar" data-v-0f827909 data-v-10058498><div class="container" data-v-10058498><div class="VPNavBarTitle" data-v-10058498 data-v-477b2930><a class="title" href="/serverless-use/" data-v-477b2930><!----><!--[-->ServerlessUse<!--]--></a></div><div class="content" data-v-10058498><!----><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-10058498 data-v-1afc9dec><span id="main-nav-aria-label" class="visually-hidden" data-v-1afc9dec>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/serverless-use/guide/philosophy.html" data-v-1afc9dec data-v-1d8250a9 data-v-48abdd18><!--[-->Philosophy<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/serverless-use/guide/getting-started.html" data-v-1afc9dec data-v-1d8250a9 data-v-48abdd18><!--[-->Getting Started<!--]--><!----></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-1afc9dec data-v-0635fb1f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-0635fb1f><span class="text" data-v-0635fb1f><!----> Composables <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-0635fb1f><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-0635fb1f><div class="VPMenu" data-v-0635fb1f data-v-e3d492a8><div class="items" data-v-e3d492a8><!--[--><!--[--><div class="VPMenuGroup" data-v-e3d492a8 data-v-b581e56c><p class="title" data-v-b581e56c>ApiGateway</p><!--[--><!--[--><div class="VPMenuLink" data-v-b581e56c data-v-44c3a200><a class="VPLink link" href="/serverless-use/packages/apigw/src/use/" data-v-44c3a200 data-v-48abdd18><!--[-->use<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b581e56c data-v-44c3a200><a class="VPLink link" href="/serverless-use/packages/apigw/src/useCompression/" data-v-44c3a200 data-v-48abdd18><!--[-->useCompression<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b581e56c data-v-44c3a200><a class="VPLink link" href="/serverless-use/packages/apigw/src/useEvent/" data-v-44c3a200 data-v-48abdd18><!--[-->useEvent<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b581e56c data-v-44c3a200><a class="VPLink link" href="/serverless-use/packages/apigw/src/useJWTAuthorizer/" data-v-44c3a200 data-v-48abdd18><!--[-->useJWTAuthorizer<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b581e56c data-v-44c3a200><a class="VPLink link" href="/serverless-use/packages/apigw/src/useLambdaAuthorizerContext/" data-v-44c3a200 data-v-48abdd18><!--[-->useLambdaAuthorizerContext<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b581e56c data-v-44c3a200><a class="VPLink link" href="/serverless-use/packages/apigw/src/usePathParameters/" data-v-44c3a200 data-v-48abdd18><!--[-->usePathParameters<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b581e56c data-v-44c3a200><a class="VPLink link" href="/serverless-use/packages/apigw/src/useQueryParameters/" data-v-44c3a200 data-v-48abdd18><!--[-->useQueryParameters<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b581e56c data-v-44c3a200><a class="VPLink link" href="/serverless-use/packages/apigw/src/useRequestBody/" data-v-44c3a200 data-v-48abdd18><!--[-->useRequestBody<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b581e56c data-v-44c3a200><a class="VPLink link" href="/serverless-use/packages/apigw/src/useRequestCookies/" data-v-44c3a200 data-v-48abdd18><!--[-->useRequestCookies<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b581e56c data-v-44c3a200><a class="VPLink link" href="/serverless-use/packages/apigw/src/useRequestHeaders/" data-v-44c3a200 data-v-48abdd18><!--[-->useRequestHeaders<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b581e56c data-v-44c3a200><a class="VPLink link" href="/serverless-use/packages/apigw/src/useResponseBody/" data-v-44c3a200 data-v-48abdd18><!--[-->useResponseBody<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b581e56c data-v-44c3a200><a class="VPLink link" href="/serverless-use/packages/apigw/src/useResponseCookies/" data-v-44c3a200 data-v-48abdd18><!--[-->useResponseCookies<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b581e56c data-v-44c3a200><a class="VPLink link" href="/serverless-use/packages/apigw/src/useResponseHeaders/" data-v-44c3a200 data-v-48abdd18><!--[-->useResponseHeaders<!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-e3d492a8 data-v-b581e56c><p class="title" data-v-b581e56c>Core</p><!--[--><!--[--><div class="VPMenuLink" data-v-b581e56c data-v-44c3a200><a class="VPLink link" href="/serverless-use/packages/core/src/createSharedExecutionComposable/" data-v-44c3a200 data-v-48abdd18><!--[-->createSharedExecutionComposable<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b581e56c data-v-44c3a200><a class="VPLink link" href="/serverless-use/packages/core/src/useContext/" data-v-44c3a200 data-v-48abdd18><!--[-->useContext<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b581e56c data-v-44c3a200><a class="VPLink link" href="/serverless-use/packages/core/src/useExecution/" data-v-44c3a200 data-v-48abdd18><!--[-->useExecution<!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-10058498 data-v-0b2f3bac><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" data-v-0b2f3bac data-v-741b6450 data-v-ab2de182><span class="check" data-v-ab2de182><span class="icon" data-v-ab2de182><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-741b6450><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-741b6450><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-10058498 data-v-5c5de4da data-v-7dcd7d60><!--[--><a class="VPSocialLink" href="https://github.com/aphex/serverless-use" title="github" target="_blank" rel="noopener noreferrer" data-v-7dcd7d60 data-v-610fed1a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-610fed1a><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg><span class="visually-hidden" data-v-610fed1a>github</span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-10058498 data-v-5fe59986 data-v-0635fb1f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-0635fb1f><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-0635fb1f><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-0635fb1f><div class="VPMenu" data-v-0635fb1f data-v-e3d492a8><!----><!--[--><!--[--><!----><div class="group" data-v-5fe59986><div class="item appearance" data-v-5fe59986><p class="label" data-v-5fe59986>Appearance</p><div class="appearance-action" data-v-5fe59986><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" data-v-5fe59986 data-v-741b6450 data-v-ab2de182><span class="check" data-v-ab2de182><span class="icon" data-v-ab2de182><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-741b6450><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-741b6450><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-5fe59986><div class="item social-links" data-v-5fe59986><div class="VPSocialLinks social-links-list" data-v-5fe59986 data-v-7dcd7d60><!--[--><a class="VPSocialLink" href="https://github.com/aphex/serverless-use" title="github" target="_blank" rel="noopener noreferrer" data-v-7dcd7d60 data-v-610fed1a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-610fed1a><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg><span class="visually-hidden" data-v-610fed1a>github</span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-10058498 data-v-2ead6e10><span class="container" data-v-2ead6e10><span class="top" data-v-2ead6e10></span><span class="middle" data-v-2ead6e10></span><span class="bottom" data-v-2ead6e10></span></span></button></div></div></div><!----></header><!----><!----><div class="VPContent" id="VPContent" data-v-b7788134 data-v-09411f0c><div class="VPDoc" data-v-09411f0c data-v-5200d57a><div class="container" data-v-5200d57a><div class="aside" data-v-5200d57a><div class="aside-curtain" data-v-5200d57a></div><div class="aside-container" data-v-5200d57a><div class="aside-content" data-v-5200d57a><div class="VPDocAside" data-v-5200d57a data-v-ab3cfea0><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline has-outline" data-v-ab3cfea0 data-v-0adf76b1><div class="content" data-v-0adf76b1><div class="outline-marker" data-v-0adf76b1></div><div class="outline-title" data-v-0adf76b1>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-0adf76b1><span class="visually-hidden" id="doc-outline-aria-label" data-v-0adf76b1> Table of Contents for current page </span><ul class="root" data-v-0adf76b1><!--[--><li style="" data-v-0adf76b1><a class="outline-link" href="#functions-first" data-v-0adf76b1>Functions First</a><!----></li><li style="" data-v-0adf76b1><a class="outline-link" href="#invocation-vs-execution" data-v-0adf76b1>Invocation vs Execution</a><!----></li><li style="" data-v-0adf76b1><a class="outline-link" href="#phases-of-execution" data-v-0adf76b1>Phases of Execution</a><!----></li><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-ab3cfea0></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-5200d57a><div class="content-container" data-v-5200d57a><!--[--><!--]--><main class="main" data-v-5200d57a><div style="position:relative;" class="vp-doc _serverless-use_guide_philosophy" data-v-5200d57a><div><h1 id="composable-philosophy-ðŸ¤”" tabindex="-1">Composable Philosophy ðŸ¤” <a class="header-anchor" href="#composable-philosophy-ðŸ¤”" aria-hidden="true">#</a></h1><p><a href="/serverless-use/">ServerlessUse</a> is based on the composable ecosystem from the popular frontend framework <a href="https://vuejs.org/guide/reusability/composables.html#composables" target="_blank" rel="noopener noreferrer">Vue</a>. A simple concept of letting functions being the foundation for reusability and composition. Though it does not use any Vue it is certainly an extension of the already amazing <a href="https://vueuse.org/ecosystem.html" target="_blank" rel="noopener noreferrer">VueUse Ecosystem</a></p><h2 id="functions-first" tabindex="-1">Functions First <a class="header-anchor" href="#functions-first" aria-hidden="true">#</a></h2><p>Javascript is amazingly powerful when you build into it&#39;s strengths. A lot of frameworks and libraries attempt to reinvent the wheel and push developers into practices that slowly drift into a nonstandard. Developers are then left with obsolete patterns that are harder to share across a team and more difficult for new developers to <a href="https://en.wikipedia.org/wiki/Grok" target="_blank" rel="noopener noreferrer">grok</a>.</p><p>The composable model focuses on functions and there ability to wrap each other easily.</p><h2 id="invocation-vs-execution" tabindex="-1">Invocation vs Execution <a class="header-anchor" href="#invocation-vs-execution" aria-hidden="true">#</a></h2><p><a href="/serverless-use/">ServerlessUse</a> was built to make developing on AWS easier and faster. Removing a lot of boilerplate and providing simply composable functions to access common tasks without forcing developers into a full middleware model.</p><p>One of the primary concepts to understand prior to diving into AWS lambda coding is the difference between an Invocation and an Execution.</p><h3 id="invocation" tabindex="-1">Invocation <a class="header-anchor" href="#invocation" aria-hidden="true">#</a></h3><p>This is the process by which your lambda is first started. This is generally referred to as a <strong>Cold Start</strong>. Though it is not completely 1:1 it maybe best to imagine this as a similar process to the browser loading a SPA for the first time or <a href="https://nodejs.org/" target="_blank" rel="noopener noreferrer">NodeJS</a> running an application. The important concept to take away from this is that variables can be kept in memory for the lifetime of the invocation.</p><p>AWS will try to keep your lambda <strong>warm</strong> when it is being used often. This means that it is easy to accidentally share information across requests. It is also a powerful tool to allow for quick caching of information that can be reused.</p><p>Let&#39;s take a look at an Example</p><div class="language-ts"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">use</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">useEvent</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@serverless-use/apigw</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// This will live for the lifetime of the invocation</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// this means as multiple requests come in this can be shared between them</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> times</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">number</span><span style="color:#A6ACCD;">[] </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> []</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">use</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">event</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">useEvent</span><span style="color:#F07178;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">times</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">event</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">requestContext</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">timeEpoch</span><span style="color:#F07178;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">times</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>As requests come in the <code>times</code> array will fill up with the timestamps from executions that happen throughout the lifetime of the lambda invocation.</p><div class="language-json"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">times</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:[</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">1659062050859</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">1659062052117</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">1659062052796</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="execution" tabindex="-1">Execution <a class="header-anchor" href="#execution" aria-hidden="true">#</a></h3><p>An <a href="https://aws.amazon.com/lambda/" target="_blank" rel="noopener noreferrer">AWS lambda</a> is a function that will run on demand as opposed to a dedicated server that is on all the time awaiting requests to come into it. Unlike the invocation which is the process by which the Lambda <strong>spins up</strong> the execution phase focuses on the lifetime of the function itself</p><p>The <a href="/serverless-use/packages/apigw/src/use/">ServerlessUse <code>use</code> helper</a> helps manage the execution of your lambda by automatically tracking its start and end. This means that composables can be sure that memory will not leak out into other request executions.</p><p>As composables are accessible anywhere in your code it can get confusing and concerning making sure you&#39;re referring to the correct query parameters or headers. With <a href="/serverless-use/">ServerlessUse</a> you can be sure that all composables will be reset in between requests.</p><p>This does not mean invocation level shared state will not still work, one can simply declare variables outside of the execution scope to be able to access them across invocations.</p><h2 id="phases-of-execution" tabindex="-1">Phases of Execution <a class="header-anchor" href="#phases-of-execution" aria-hidden="true">#</a></h2><ol><li>Execution scope is created</li><li>Event is registered globally</li><li>Context is registered globally</li><li>Handler is executed <em>(hey, its you! ðŸ‘‹)</em></li><li>(optional) Auto-Transform is applied to result</li><li>Response composables are applied to the result</li><li>(optional) Result is compressed based on request headers</li><li>Execution scope is disposed</li><li>Result is returned</li></ol></div></div></main><footer class="VPDocFooter" data-v-5200d57a data-v-dd53704a><div class="edit-info" data-v-dd53704a><!----><!----></div><!----></footer><!--[--><!--]--></div></div></div></div></div><footer class="VPFooter" data-v-b7788134 data-v-32972742><div class="container" data-v-32972742><p class="message" data-v-32972742></p><p class="copyright" data-v-32972742>Copyright Â© 2022-PRESENT Ross Gerbasi</p></div></footer><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"readme.md\":\"6669f150\",\"guide_getting-started.md\":\"b5542fc4\",\"guide_philosophy.md\":\"943cf7a0\",\"index.md\":\"b6438fac\",\"packages_apigw_src_use_index.md\":\"8df9db56\",\"packages_apigw_src_usecompression_index.md\":\"74c77589\",\"packages_apigw_src_useevent_index.md\":\"1bdb1c14\",\"packages_apigw_src_usejwtauthorizer_index.md\":\"3edbdb13\",\"packages_apigw_src_uselambdaauthorizercontext_index.md\":\"c13476c4\",\"packages_apigw_src_usepathparameters_index.md\":\"192316ed\",\"packages_apigw_src_usequeryparameters_index.md\":\"9bae1907\",\"packages_apigw_src_userequestbody_index.md\":\"5dca08db\",\"packages_apigw_src_userequestcookies_index.md\":\"86c3685d\",\"packages_apigw_src_userequestheaders_index.md\":\"d6ad9dfc\",\"packages_apigw_src_useresponsebody_index.md\":\"92d8c621\",\"packages_apigw_src_useresponsecookies_index.md\":\"490282ce\",\"packages_apigw_src_useresponseheaders_index.md\":\"35a7a3d2\",\"packages_core_src_createsharedexecutioncomposable_index.md\":\"2674d522\",\"packages_core_src_usecontext_index.md\":\"5857061b\",\"packages_core_src_useexecution_index.md\":\"e7c85661\"}")</script>
    <script type="module" async src="/serverless-use/assets/app.cfba5851.js"></script>
    
  </body>
</html>